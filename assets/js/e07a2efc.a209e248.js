"use strict";(self.webpackChunktil=self.webpackChunktil||[]).push([[354],{1690:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>o,contentTitle:()=>a,default:()=>u,frontMatter:()=>c,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"frontend/React/ReactQuery","title":"React Query","description":"React Query\ub780?","source":"@site/docs/frontend/9-React/24-ReactQuery.md","sourceDirName":"frontend/9-React","slug":"/frontend/React/ReactQuery","permalink":"/FE-TIL-JJamVa/docs/frontend/React/ReactQuery","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":24,"frontMatter":{},"sidebar":"frontend","previous":{"title":"Recoil","permalink":"/FE-TIL-JJamVa/docs/frontend/React/Recoil"},"next":{"title":"React Hook Form","permalink":"/FE-TIL-JJamVa/docs/frontend/React/ReactHookForm"}}');var t=n(6070),i=n(989);const c={},a="React Query",o={},l=[{value:"React Query\ub780?",id:"react-query\ub780",level:2},{value:"React Query \ucd08\uae30 \uc124\uc815",id:"react-query-\ucd08\uae30-\uc124\uc815",level:2},{value:"useQuery",id:"usequery",level:2},{value:"\uc815\uc801 Query Key",id:"\uc815\uc801-query-key",level:3},{value:"\ub3d9\uc801 Query Key",id:"\ub3d9\uc801-query-key",level:3},{value:"useQueries",id:"usequeries",level:2},{value:"useMutation",id:"usemutation",level:2},{value:"QueryCache",id:"querycache",level:2},{value:"React Query\uc758 Suspense\ubaa8\ub4dc",id:"react-query\uc758-suspense\ubaa8\ub4dc",level:2},{value:"PrefetchQuery",id:"prefetchquery",level:2},{value:"invalidateQueries",id:"invalidatequeries",level:2},{value:"useInfiniteQuery(\ubb34\ud55c \uc2a4\ud06c\ub864)",id:"useinfinitequery\ubb34\ud55c-\uc2a4\ud06c\ub864",level:2}];function d(e){const r={a:"a",admonition:"admonition",br:"br",code:"code",details:"details",div:"div",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",summary:"summary",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.header,{children:(0,t.jsx)(r.h1,{id:"react-query",children:"React Query"})}),"\n",(0,t.jsx)(r.h2,{id:"react-query\ub780",children:"React Query\ub780?"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"\ub370\uc774\ud130\ub97c \ud6a8\uacfc\uc801\uc73c\ub85c \uad00\ub9ac\ud558\uace0 \ucc98\ub9ac\ud558\uae30 \uc704\ud55c \ub77c\uc774\ube0c\ub7ec\ub9ac"}),"\n",(0,t.jsxs)(r.li,{children:["\uc11c\ubc84 \uc0c1\ud0dc \ubc0f \uce90\uc2dc\ub97c \uad00\ub9ac\ud558\uace0, API \ud638\ucd9c\uacfc \uac19\uc740 ",(0,t.jsx)(r.strong,{children:"\ube44\ub3d9\uae30 \uc791\uc5c5\uc744 \ub2e8\uc21c\ud654"})," \uc791\uc5c5"]}),"\n",(0,t.jsxs)(r.li,{children:["\ud574\ub2f9 React \ud504\ub85c\uc81d\ud2b8 \uacbd\ub85c \ud130\ubbf8\ub110\uc5d0 ",(0,t.jsx)(r.code,{children:"npm install @tanstack/react-query"})," \uc785\ub825\ud558\uc5ec \uc124\uce58"]}),"\n"]}),"\n",(0,t.jsx)(r.admonition,{type:"tip",children:(0,t.jsxs)(r.p,{children:["react-query V4\uc774\ud558\ub97c \uc0ac\uc6a9\ud560 \uacbd\uc6b0, ",(0,t.jsx)(r.code,{children:"npm install react-query"}),"\ub97c \uc124\uce58"]})}),"\n",(0,t.jsx)(r.h2,{id:"react-query-\ucd08\uae30-\uc124\uc815",children:"React Query \ucd08\uae30 \uc124\uc815"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-jsx",children:'import React from "react";\r\nimport { createRoot } from "react-dom/client";\r\nimport App from "./App";\r\nimport { QueryClient, QueryClientProvider } from "@tanstack/react-query";\r\n\r\nconst queryClient = new QueryClient();\r\n\r\nconst container = document.getElementById("root");\r\nconst root = createRoot(container);\r\nroot.render(\r\n  <QueryClientProvider client={queryClient}>\r\n    <App />\r\n  </QueryClientProvider>\r\n);\n'})}),"\n",(0,t.jsx)(r.admonition,{type:"note",children:(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.code,{children:"queryClient"})," \ubcc0\uc218\ub294 QueryClient\uc758 \uc778\uc2a4\ud134\uc2a4\ub97c \uc0dd\uc131\ud558\uc5ec React Query\uc758 \uc0c1\ud0dc\uc640 \uad00\ub828 \uae30\ub2a5\uc744 \uc0ac\uc6a9\ud560 \uc218 \uc788\ub3c4\ub85d \uc0dd\uc131",(0,t.jsx)(r.br,{}),"\r\n",(0,t.jsx)(r.code,{children:"<QueryClientProvider client={queryClient}>"}),"\ub97c \ud1b5\ud574 React Query\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc788\uac8c \ucd5c\uc0c1\uc704 Component\ub97c \uac10\uc2f8\uc900\ub2e4."]})}),"\n",(0,t.jsx)(r.h2,{id:"usequery",children:"useQuery"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"\ub370\uc774\ud130\ub97c \uac00\uc838\uc624\ub294 \ube44\ub3d9\uae30 \uc791\uc5c5(GET\ubc29\uc2dd)\uc744 \uad00\ub9ac\ud558\ub294 \ub370 \uc0ac\uc6a9"}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"useQuery({queryKey: query \ud0a4, queryFn: \ube44\ub3d9\uae30 \ud568\uc218, \ucd94\uac00 \uc635\uc158})"}),"\uc758 \ud615\ud0dc\ub85c \uc0ac\uc6a9"]}),"\n"]}),"\n",(0,t.jsxs)(r.admonition,{type:"tip",children:[(0,t.jsx)(r.p,{children:(0,t.jsx)(r.strong,{children:"useQuery\uc758 \ud568\uc218 \uc635\uc158"})}),(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-js",children:"let {useQuery \uacb0\uacfc\uac12\uc5d0 \ub300\ud55c \uc18d\uc131} = useQuery({\r\n    queryKey,\r\n    queryFn,\r\n    gcTime\r\n    ...\r\n})\n"})}),(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["\ud575\uc2ec \uc635\uc158\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"queryKey"}),": Query\ub97c \uc2dd\ubcc4\ud558\ub294 \ub370 \uc0ac\uc6a9\ub418\ub294 \ud0a4. \uce90\uc2dc\uc5d0\uc11c \ub370\uc774\ud130\ub97c \ucc3e\uc744 \ub54c \uc0ac\uc6a9"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"queryFn"}),": \ub370\uc774\ud130\ub97c \uac00\uc838\uc624\ub294 \ube44\ub3d9\uae30 \ud568\uc218"]}),"\n",(0,t.jsx)(r.li,{children:"gcTime: \uac00\ube44\uc9c0 \uceec\ub809\uc158\uc744 \uc704\ud55c \uc2dc\uac04 \uac04\uaca9 \uc870\uc815. \uae30\ubcf8\uac12\uc740 5\ubd84(1000 * 60 * 5)"}),"\n",(0,t.jsx)(r.li,{children:"staleTime: \ub370\uc774\ud130\uac00 \ub9cc\ub8cc\ub418\uc5b4 \ub2e4\uc2dc \uc870\ud68c\ub418\uae30 \uc804\uae4c\uc9c0\uc758 \uc2dc\uac04\uc744 \uc124\uc815"}),"\n",(0,t.jsx)(r.li,{children:"enabled: \uac12\uc774 true\uc77c \uacbd\uc6b0 \ub3d9\uae30\uc801\uc778 \ud568\uc218\ub85c \uc2e4\ud589"}),"\n"]}),"\n"]}),"\n"]}),(0,t.jsx)(r.p,{children:(0,t.jsx)(r.a,{href:"https://tanstack.com/query/latest/docs/framework/react/reference/useQuery",children:"useQuery \ubb38\uc11c"})})]}),"\n",(0,t.jsxs)(r.admonition,{type:"info",children:[(0,t.jsx)(r.p,{children:(0,t.jsx)(r.strong,{children:"gcTime\uacfc staleTime"})}),(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.code,{children:"gcTime(Garbage Collection Time)"})}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"cacheTime\uc774\ub77c\uace0\ub3c4 \ubd80\ub984"}),"\n",(0,t.jsx)(r.li,{children:"\uce90\uc2dc\uc5d0\uc11c \uc0ac\uc6a9\ub418\uc9c0 \uc54a\ub294(\ud574\ub2f9 Query unMount, inactive) Query \ub370\uc774\ud130\uac00 \uba54\ubaa8\ub9ac\uc5d0\uc11c \uc81c\uac70\ub420 \ub54c \uae4c\uc9c0\uc758 \uc2dc\uac04"}),"\n",(0,t.jsx)(r.li,{children:"gcTime\uc740 staleTime\uacfc \uad00\uacc4\uc5c6\uc774, \ube44\ud65c\uc131\ud654\ub41c \uc0c1\ud0dc \uae30\uc900\uc73c\ub85c \uce90\uc2dc \ub370\uc774\ud130 \uc0ad\uc81c\ub97c \uacb0\uc815"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(r.li,{children:["\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.code,{children:"staleTime"})}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["stale\uc740 ",(0,t.jsx)(r.strong,{children:"\uc624\ub798\ub41c"}),"\uc758 \uc758\ubbf8"]}),"\n",(0,t.jsx)(r.li,{children:"\uc774\uc804 Query\uc758 \uce90\uc2dc\uac00 \uc874\uc7ac\ud558\uc9c0\ub9cc, \uc77c\uc815 \uc2dc\uac04\ub3d9\uc548 \uc5c5\ub370\uc774\ud2b8 \ub418\uc9c0 \uc54a\ub294 \uc2dc\uac04"}),"\n",(0,t.jsxs)(r.li,{children:["staleTime \ub3d9\uc548\uc758 \ub370\uc774\ud130\ub294 ",(0,t.jsx)(r.code,{children:"fresh"}),"\uc0c1\ud0dc, staleTime\uc774 \ucd08\uacfc\ub420 \uacbd\uc6b0 ",(0,t.jsx)(r.code,{children:"stale"}),"\uc0c1\ud0dc"]}),"\n",(0,t.jsx)(r.li,{children:"stale\uc0c1\ud0dc\uc77c \uacbd\uc6b0, \ubc31\uadf8\ub77c\uc6b4\ub4dc\uc5d0\uc11c \ub370\uc774\ud130\ub97c \uc0c8\ub85c\uace0\uce68. \uce90\uc2dc\ub41c \ub370\uc774\ud130\ub294 \uc989\uc2dc \ud655\uc778"}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,t.jsx)(r.h3,{id:"\uc815\uc801-query-key",children:"\uc815\uc801 Query Key"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-js",metastring:'title="\ube44\ub3d9\uae30 \ud568\uc218"',children:'import axios from "axios";\r\n\r\nconst fetchData = async () => {\r\n  const { data } = await axios.get(\r\n    "https://jsonplaceholder.typicode.com/todos/1"\r\n  );\r\n  return data;\r\n};\r\n\r\nexport default fetchData;\n'})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-js",metastring:'title="App.js"',children:'import { useQuery } from "@tanstack/react-query";\r\nimport fetchData from "./Async";\r\n\r\nfunction App() {\r\n  const { data, isLoading, error } = useQuery({\r\n    queryKey: ["todos"],\r\n    queryFn: fetchData,\r\n  });\r\n\r\n  if (isLoading) {\r\n    return <>\ub85c\ub529 \uc911</>;\r\n  }\r\n\r\n  if (error) {\r\n    return <>\uc5d0\ub7ec \ubc1c\uc0dd!!</>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <h1>\uc81c\ubaa9: {data.title}</h1>\r\n    </>\r\n  );\r\n}\r\nexport default App;\n'})}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.img,{src:"https://github.com/JJamVa/JJamVa/assets/80045006/a90598d1-32ad-4351-bfef-e785801f79fa",alt:"image"})}),"\n",(0,t.jsxs)(r.admonition,{type:"note",children:[(0,t.jsxs)(r.p,{children:["\uc704\uc758 \ucf54\ub4dc\ub294 useQuery\ub97c \uc774\uc6a9\ud558\uc5ec \ub370\uc774\ud130\ub97c \ud45c\ud604\ud558\ub294 \ucf54\ub4dc\uc774\ub2e4.",(0,t.jsx)(r.br,{}),"\r\n",(0,t.jsx)(r.code,{children:"queryKey"}),"\uc5d0 ",(0,t.jsx)(r.strong,{children:"\uace0\uc720 query key\uac12"}),"\uc744 \uc124\uc815, ",(0,t.jsx)(r.code,{children:"queryFn"}),"\uc5d0 ",(0,t.jsx)(r.strong,{children:"\ub370\uc774\ud130\ub97c \ubc1b\uc544\uc62c \ube44\ub3d9\uae30 \ud568\uc218\ub97c \ub4f1\ub85d"}),"\ud55c\ub2e4.",(0,t.jsx)(r.br,{})]}),(0,t.jsxs)(r.p,{children:["\ub370\uc774\ud130\ub97c \ubc1b\uc544\uc624\ub294 \ub2e8\uacc4(pending)\uc5d0\uc11c isLoading\uc744 \ud1b5\ud574 \ub85c\ub529\ud654\uba74\uc744 \ud45c\ud604",(0,t.jsx)(r.br,{}),"\r\n\uc2e4\ud328\ud560 \uacbd\uc6b0 error\ud654\uba74\uc744 \ud45c\ud604\ud55c\ub2e4.",(0,t.jsx)(r.br,{})]})]}),"\n",(0,t.jsx)(r.h3,{id:"\ub3d9\uc801-query-key",children:"\ub3d9\uc801 Query Key"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"Query \ub3d9\uc791\uacfc\uc815\uc740 \uc77c\uce58\ud558\ub098 \uac1c\ubcc4\ub85c \uad00\ub9ac\ud574\uc57c\ud560 \uacbd\uc6b0 \uc0ac\uc6a9"}),"\n",(0,t.jsx)(r.li,{children:"\ud3b8\ub9ac\ud55c \uc720\uc9c0\ubcf4\uc218 \ubc0f \uac00\ub3c5\uc131\uc744 \uc704\ud574 \uc0ac\uc6a9"}),"\n"]}),"\n",(0,t.jsxs)(r.admonition,{type:"tip",children:[(0,t.jsxs)(r.p,{children:["query \uce90\uc2dc\uc758 \ub370\uc774\ud130\ub97c \ud655\uc778\ud558\uae30 \uc704\ud574 react query devtools\ub97c \uc0ac\uc6a9",(0,t.jsx)(r.br,{}),"\r\n\ud574\ub2f9 React \ud504\ub85c\uc81d\ud2b8 \uacbd\ub85c \ud130\ubbf8\ub110\uc5d0 ",(0,t.jsx)(r.code,{children:"npm install @tanstack/react-query-devtools"})," \uc785\ub825\ud558\uc5ec \uc124\uce58",(0,t.jsx)(r.br,{})]}),(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-jsx",children:'import { QueryClient, QueryClientProvider } from "@tanstack/react-query";\r\nimport { ReactQueryDevtools } from "@tanstack/react-query-devtools";\r\n\r\nconst queryClient = new QueryClient();\r\n\r\nconst container = document.getElementById("root");\r\nconst root = createRoot(container);\r\nroot.render(\r\n  <QueryClientProvider client={queryClient}>\r\n    <App />\r\n    <ReactQueryDevtools initialIsOpen={true} />\r\n  </QueryClientProvider>\r\n);\n'})}),(0,t.jsxs)(r.p,{children:["\uc704\uc640 \uac19\uc774 ReactQueryDevtools \ud0dc\uadf8\ub97c \uc791\uc131\ud574\uc11c \uc0ac\uc6a9\ud558\uba74 \ub41c\ub2e4.",(0,t.jsx)(r.br,{})]})]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-jsx",metastring:'title="\ube44\ub3d9\uae30 \ud568\uc218"',children:'import axios from "axios";\r\n\r\nconst fetchUsers = async (page, pageSize) => {\r\n  const response = await axios.get(\r\n    `https://jsonplaceholder.typicode.com/users`,\r\n    {\r\n      params: {\r\n        _page: page,\r\n        _limit: pageSize,\r\n      },\r\n    }\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport default fetchUsers;\n'})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-jsx",metastring:'title="App.js"',children:'import { useQuery } from "@tanstack/react-query";\r\nimport React, { useState } from "react";\r\nimport fetchUsers from "./Async";\r\n\r\nconst App = () => {\r\n  const [page, setPage] = useState(1);\r\n  const pageSize = 2;\r\n\r\n  function decrease() {\r\n    if (page > 1) setPage(page - 1);\r\n  }\r\n\r\n  function increase() {\r\n    if (page < 5) setPage(page + 1);\r\n  }\r\n\r\n  const {\r\n    data: users,\r\n    isLoading,\r\n    isError,\r\n  } = useQuery({\r\n    queryKey: ["users", page, pageSize],\r\n    queryFn: () => fetchUsers(page, pageSize),\r\n  });\r\n\r\n  if (isLoading) {\r\n    return <div>\ub85c\ub529 \uc911</div>;\r\n  }\r\n\r\n  if (isError) {\r\n    return <div>\uc5d0\ub7ec \ubc1c\uc0dd</div>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Users List</h1>\r\n      <ul>\r\n        {users.map((user) => (\r\n          <li key={user.id}>{user.name}</li>\r\n        ))}\r\n      </ul>\r\n      <button onClick={decrease}>\uc774\uc804</button>\r\n      <button onClick={increase}>\ub2e4\uc74c</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\n'})}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.img,{src:"https://github.com/JJamVa/JJamVa/assets/80045006/7074d190-766d-4aec-80de-589c29dae0e2",alt:"image"})}),"\n",(0,t.jsxs)(r.admonition,{type:"note",children:[(0,t.jsxs)(r.p,{children:["\uc704\uc758 \ucf54\ub4dc\ub294 Query\uc758 key\uac12\uc774 \ub3d9\uc801\uc778 \uacbd\uc6b0\uc5d0 \ub300\ud55c \uc608\uc2dc \ucf54\ub4dc\uc774\ub2e4.",(0,t.jsx)(r.br,{}),"\r\npage\uc640 pageSize\ub97c \uc778\uc790\ub85c \ubc1b\uc544, \ud398\uc774\uc9c0\uc5d0 \ud574\ub2f9\ud558\ub294 \uc0ac\uc6a9\uc790 \ubaa9\ub85d\uc744 \uac00\uc838\uc628\ub2e4.",(0,t.jsx)(r.br,{}),"\r\npage\ud639\uc740 pageSize\uac12\uc774 \ubcc0\ud560 \ub54c\ub9c8\ub2e4, \uc0c8\ub85c\uc6b4 Query\uac00 \uc0dd\uc131\uc774 \ub418\uba70 \ub3c5\ub9bd\uc801\uc73c\ub85c \uce90\uc2dc \uad00\ub9ac\ub97c \ud55c\ub2e4.",(0,t.jsx)(r.br,{})]}),(0,t.jsx)(r.p,{children:(0,t.jsx)(r.img,{src:"https://github.com/JJamVa/JJamVa/assets/80045006/1739bc2e-7ac7-4c53-a3d6-9bda1b84f30f",alt:"image"})}),(0,t.jsxs)(r.p,{children:["\uc989, key\uac12\uc774 \ub3d9\uc801\uc77c \uacbd\uc6b0\uc5d0 \uac19\uc740 \uae30\ub2a5\uc758 \ube44\ub3d9\uae30 \ud568\uc218\ub97c \uc0ac\uc6a9\ud558\ub354\ub77c\ub3c4 ",(0,t.jsx)(r.strong,{children:"\uac1c\ubcc4\uc758 Query\ub97c \uad00\ub9ac"})," \ud560 \uc218 \uc788\uc73c\uba70,",(0,t.jsx)(r.br,{}),"\r\n\ud544\uc694\uc5d0 \ub530\ub77c \ud2b9\uc815 \ud398\uc774\uc9c0\uc758 Query\uc5d0 \ub300\ud55c \ubd80\uac00\uc801\uc778 \ub3d9\uc791(\uc5c5\ub370\uc774\ud2b8, \ud328\uce58 \ub4f1)\uc744 \uad6c\ud604 \ud560 \uc218 \uc788\ub2e4.",(0,t.jsx)(r.br,{})]})]}),"\n",(0,t.jsx)(r.h2,{id:"usequeries",children:"useQueries"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["\uc5ec\ub7ec \uac1c\uc758 Query\ub97c ",(0,t.jsx)(r.strong,{children:"\ub3d9\uc2dc\uc5d0 \ucc98\ub9ac"}),"\ud558\ub294 \ub370 \uc0ac\uc6a9\ub418\ub294 React Query\uc758 \ud568\uc218"]}),"\n",(0,t.jsx)(r.li,{children:"useQuery\uc640 \uc720\uc0ac\ud558\uc9c0\ub9cc \uc5ec\ub7ec \uac1c\uc758 Query\ub97c \ubc30\uc5f4\ub85c \ubc1b\uc544 \ucc98\ub9ac"}),"\n"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-js",metastring:'title="\ube44\ub3d9\uae30 \ud568\uc218"',children:'import axios from "axios";\r\n\r\nexport const fetchData = async () => {\r\n  const { data } = await axios.get(\r\n    "https://jsonplaceholder.typicode.com/todos/1"\r\n  );\r\n  return data;\r\n};\r\n\r\nexport const fetchDataUser = async () => {\r\n  const { data } = await axios.get(\r\n    "https://jsonplaceholder.typicode.com/users/1"\r\n  );\r\n  return data;\r\n};\n'})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-js",metastring:'title="App.js"',children:'import { useQueries } from "@tanstack/react-query";\r\nimport { fetchData, fetchDataUser } from "./Async";\r\n\r\nfunction App() {\r\n  const queryResult = useQueries({\r\n    queries: [\r\n      { queryKey: "todos", queryFn: fetchData },\r\n      { queryKey: "users", queryFn: fetchDataUser },\r\n    ],\r\n  });\r\n\r\n  if (queryResult[0].isLoading && queryResult[1].isLoading) {\r\n    return <>\ub85c\ub529 \uc911</>;\r\n  }\r\n\r\n  if (queryResult[0].error && queryResult[1].error) {\r\n    return <>\uc5d0\ub7ec \ubc1c\uc0dd!!</>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <h1>\uc81c\ubaa9: {queryResult[0].data.title}</h1>\r\n      <h2>\uc720\uc800 \uc774\ub984: {queryResult[1].data.name}</h2>\r\n    </>\r\n  );\r\n}\r\nexport default App;\n'})}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.img,{src:"https://github.com/JJamVa/JJamVa/assets/80045006/2479796e-6a5a-4c47-b459-851b5bce1eb5",alt:"image"})}),"\n",(0,t.jsxs)(r.admonition,{type:"note",children:[(0,t.jsxs)(r.p,{children:["useQueries \uac19\uc740 \uacbd\uc6b0, \uc5ec\ub7ec\uac1c\uc758 Query\ub97c ",(0,t.jsx)(r.code,{children:"queries"}),"\uc18d\uc131\uc5d0 \ubc30\uc5f4\ub85c \uc815\ubcf4\ub97c \uc800\uc7a5\ud574\uc57c\ub41c\ub2e4.",(0,t.jsx)(r.br,{}),"\r\n\uac01 Query\uc758 data\uc5d0 \uc811\uadfc\ud558\uae30 \uc704\ud574\uc11c \ud574\ub2f9 query\uc758 index\ub85c \uc811\uadfc\ud558\uc5ec \ub370\uc774\ud130\ub97c \ud638\ucd9c\ud558\uba74 \ub41c\ub2e4.",(0,t.jsx)(r.br,{})]}),(0,t.jsxs)(r.p,{children:["\ub9cc\uc57d \ub450\uac1c\uc758 Query \uc911 \ud558\ub098\uac00 \uc2e4\ud328, \ud558\ub098\uac00 \uc131\uacf5\ud560 \uacbd\uc6b0, \uc131\uacf5\ud55c \ub370\uc774\ud130\ub294 \uc815\uc0c1\uc801\uc73c\ub85c \ubc18\ud658\uc774 \ub41c\ub2e4.",(0,t.jsx)(r.br,{}),"\r\nReact Query\uc5d0\uc11c \ubaa8\ub4e0 Query\uac00 \ub3c5\ub9bd\uc801\uc73c\ub85c \ucc98\ub9ac\ub418\uae30 \ub54c\ubb38\uc5d0 \uc11c\ub85c\uc5d0\uac8c \uc601\ud5a5\uc744 \ub07c\uce58\uc9c0 \uc54a\ub294\ub2e4.",(0,t.jsx)(r.br,{})]})]}),"\n",(0,t.jsx)(r.h2,{id:"usemutation",children:"useMutation"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"\ub370\uc774\ud130\uc758 \uc0dd\uc131(CREATE), \uc218\uc815(UPDATE), \uc0ad\uc81c(DELETE)\uc640 \uac19\uc740 \ubcc0\uacbd \uc791\uc5c5\uc744 \ucc98\ub9ac\ud558\uae30 \uc704\ud574 \uc0ac\uc6a9"}),"\n",(0,t.jsx)(r.li,{children:"API \ud638\ucd9c\uacfc \uac19\uc740 \ube44\ub3d9\uae30 \uc791\uc5c5\uc5d0 \uc0ac\uc6a9, \uc791\uc5c5\uc774 \uc131\uacf5\ud558\uba74 \ub370\uc774\ud130\ub97c \uc5c5\ub370\uc774\ud2b8 \uc2e4\ud328\ud558\uba74 \uc5d0\ub7ec\ub97c \ucc98\ub9ac"}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"useMutation({mutationFn: \ube44\ub3d9\uae30 \ud568\uc218, \ucd94\uac00 \uc635\uc158})"}),"\uc758 \ud615\ud0dc\ub85c \uc0ac\uc6a9"]}),"\n"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-js",metastring:'title="\ube44\ub3d9\uae30 \ud568\uc218(post)"',children:'import axios from "axios";\r\n\r\nconst createPost = async (newPost) => {\r\n  try {\r\n    const response = await axios.post(\r\n      "https://jsonplaceholder.typicode.com/posts",\r\n      newPost\r\n    );\r\n    return response.data;\r\n  } catch (error) {\r\n    throw new Error("Failed to create post");\r\n  }\r\n};\r\n\r\nexport default createPost;\n'})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-js",metastring:'title="App.js"',children:'import React from "react";\r\nimport { useMutation } from "@tanstack/react-query";\r\nimport createPost from "./Async";\r\n\r\nconst App = () => {\r\n  const mutation = useMutation({\r\n    mutationFn: createPost,\r\n    onMutate: (data) => {\r\n      console.log("onMutate", data);\r\n    },\r\n    onError: (error, variable, context) => {\r\n      console.log("onError", error, variable, context);\r\n    },\r\n    onSuccess: (data, variables, context) => {\r\n      // data: \uc11c\ubc84\ub85c\ubd80\ud130 \ubc18\ud658\ubc1b\uc740 \uc0c8\ub85c \uc0dd\uc131\ub41c \ud3ec\uc2a4\ud2b8 \ub370\uc774\ud130\r\n      // variables: createPost \ud568\uc218\uc5d0 \uc804\ub2ec\ub41c \uc778\uc790, \uc989 \uc0dd\uc131\ud558\ub824\ub294 \ud3ec\uc2a4\ud2b8 \ub370\uc774\ud130\r\n      // context : \ubba4\ud14c\uc774\uc158\uc758 \uc0dd\uba85\uc8fc\uae30 \ub3d9\uc548 \ud2b9\uc815 \uc0c1\ud0dc\ub97c \uc804\ub2ec\ud558\uac70\ub098, mutation\uc774 \ud2b8\ub9ac\uac70\ub418\uae30 \uc804\uc758 \uc0c1\ud0dc\r\n      console.log("onSuccess", data, variables, context);\r\n    },\r\n    onSettled: () => {\r\n      console.log("onSettled");\r\n    },\r\n  });\r\n\r\n  const handleCreatePost = async () => {\r\n    const newPost = {\r\n      title: "New Post",\r\n      body: "This is the body of the new post.",\r\n      userId: 1,\r\n    };\r\n\r\n    mutation.mutate(newPost);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <button onClick={handleCreatePost} disabled={mutation.isLoading}>\r\n        Create Post\r\n      </button>\r\n      {mutation.isLoading && <p>Creating...</p>}\r\n      {mutation.isError && <p>Error: {mutation.error.message}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\n'})}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.img,{src:"https://github.com/JJamVa/JJamVa/assets/80045006/8c59c095-d40f-4d16-a48a-8592c687e935",alt:"image"})}),"\n",(0,t.jsxs)(r.admonition,{type:"note",children:[(0,t.jsxs)(r.p,{children:["useMutation\uc744 \uc774\uc6a9\ud558\uc5ec \ube44\ub3d9\uae30 \ud568\uc218(post)\uc758 \uacb0\uacfc\ub97c \ubcf4\uc5ec\uc8fc\ub294 \ucf54\ub4dc\uc774\ub2e4.",(0,t.jsx)(r.br,{}),"\r\n\ubc84\ud2bc\uc744 \ud074\ub9ad \uc2dc, hanldeCreatePost\ud568\uc218\uac00 \uc2e4\ud589\uc774 \ub418\uba70 \ub0b4\ubd80\uc5d0\uc11c useMutation\uc758 mutate\uba54\uc18c\ub4dc\uac00 Argument\uac12\uacfc \ud568\uaed8 \uc2e4\ud589\uc774 \ub41c\ub2e4.",(0,t.jsx)(r.br,{}),"\r\n\uc774\ub97c \ud1b5\ud574, createPost \ube44\ub3d9\uae30 \ud568\uc218\uc5d0\uac8c \uac12\uc774 \uc804\ub2ec\ub418\uba70 \uc2e4\ud589\uc774 \ub418\uc5b4, mutation\uc758 \uacb0\uacfc \uac12\uc774 \uc5b4\ub5bb\uac8c \ubc18\ud658\ub418\uc5c8\ub294\uc9c0 \ud655\uc778\ud560 \uc218 \uc788\ub2e4.",(0,t.jsx)(r.br,{})]}),(0,t.jsx)(r.p,{children:(0,t.jsx)(r.strong,{children:"useMutation()\uc758 \ucd94\uac00 \uc635\uc158"})}),(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["onMutate: mutation\uc774 \ud2b8\ub9ac\uac70\uac00 \ub418\uae30 \uc9c1\uc804\uc5d0 \ud638\ucd9c",(0,t.jsx)(r.br,{})]}),"\n",(0,t.jsxs)(r.li,{children:["onSuccess: \ube44\ub3d9\uae30 \ud568\uc218\uc758 \ucc98\ub9ac\uac00 \uc131\uacf5\uc801\uc73c\ub85c \uc218\ud589\ud588\uc744 \uacbd\uc6b0",(0,t.jsx)(r.br,{})]}),"\n",(0,t.jsxs)(r.li,{children:["onError: \ube44\ub3d9\uae30 \ud568\uc218\uc758 \ucc98\ub9ac\uac00 \uc815\uc0c1\uc801\uc73c\ub85c \ub418\uc9c0\uc54a\uc744 \uacbd\uc6b0",(0,t.jsx)(r.br,{})]}),"\n",(0,t.jsxs)(r.li,{children:["onSettled: \ube44\ub3d9\uae30 \ud568\uc218\uc758 \uc131\uacf5/\uc2e4\ud328\uc640 \uc0c1\uad00\uc5c6\uc774 \uc644\ub8cc\ub418\uba74 \uc2e4\ud589",(0,t.jsx)(r.br,{})]}),"\n"]}),(0,t.jsx)(r.p,{children:(0,t.jsx)(r.a,{href:"https://tanstack.com/query/latest/docs/framework/react/reference/useMutation",children:"useMutation \ubb38\uc11c"})})]}),"\n",(0,t.jsx)(r.h2,{id:"querycache",children:"QueryCache"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"Query \uacb0\uacfc\ub97c \uc800\uc7a5\ud558\uace0 \uad00\ub9ac\ud558\ub294 \uc5ed\ud560"}),"\n",(0,t.jsx)(r.li,{children:"\ub2e4\uc591\ud55c \uc124\uc815\uc744 \ud1b5\ud574 \ub3d9\uc791\uc744 \uc870\uc808\ud558\uace0, query \ub370\uc774\ud130\ub97c \ud6a8\uacfc\uc801\uc73c\ub85c \uad00\ub9ac"}),"\n"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-js",metastring:'title="QueryCache \ucf54\ub4dc"',children:'import React from "react";\r\nimport { createRoot } from "react-dom/client";\r\nimport App from "./App";\r\nimport {\r\n  QueryCache,\r\n  QueryClient,\r\n  QueryClientProvider,\r\n} from "@tanstack/react-query";\r\n\r\nconst queryClient = new QueryClient({\r\n  queryCache: new QueryCache({\r\n    onError: (error, query) => {\r\n      console.log("\uc5d0\ub7ec \ucd9c\ub825", error, query);\r\n    },\r\n    onSuccess: (data) => {\r\n      console.log("\uc131\uacf5 \ucd9c\ub825", data);\r\n    },\r\n  }),\r\n});\r\n\r\nconst container = document.getElementById("root");\r\nconst root = createRoot(container);\r\nroot.render(\r\n  <QueryClientProvider client={queryClient}>\r\n    <App />\r\n  </QueryClientProvider>\r\n);\n'})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-js",metastring:'title="\ube44\ub3d9\uae30 \ud568\uc218"',children:'import axios from "axios";\r\n\r\nexport const fetchData = async () => {\r\n  const { data } = await axios.get(\r\n    "https://jsonplaceholder.typicode.com/todos/1"\r\n  );\r\n  return data;\r\n};\n'})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-js",metastring:'title="App.js"',children:'import { useQuery } from "@tanstack/react-query";\r\nimport { fetchData } from "./Async";\r\n\r\nfunction App() {\r\n  const queryResult = useQuery({ queryKey: ["todos"], queryFn: fetchData });\r\n\r\n  if (queryResult.isLoading) {\r\n    return <>\ub85c\ub529 \uc911</>;\r\n  }\r\n\r\n  if (queryResult.error) {\r\n    return <>\uc5d0\ub7ec \ubc1c\uc0dd!!</>;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <h1>\uc81c\ubaa9: {queryResult.data.title}</h1>\r\n    </>\r\n  );\r\n}\r\nexport default App;\n'})}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.img,{src:"https://github.com/JJamVa/JJamVa/assets/80045006/e4a4ed38-781e-4e2d-99f4-cc0b93a2dc2d",alt:"image"})}),"\n",(0,t.jsx)(r.admonition,{type:"note",children:(0,t.jsxs)(r.p,{children:["QueryCache\uc640 \uac19\uc740 \uacbd\uc6b0, \ucd08\uae30 Query\uc758 \uc601\uc5ed\uc744 \uc9c0\uc815\ud560 \ub54c \ud568\uaed8 \uc0ac\uc6a9\ud558\ub294 \ud568\uc218\uc774\ub2e4.",(0,t.jsx)(r.br,{}),"\r\nQuery\uac00 \uc131\uacf5\uc801\uc73c\ub85c \uc2e4\ud589\ub420 \uacbd\uc6b0 QueryCache\uc548 onSuccess \uc18d\uc131\uc774 \uc2e4\ud589\uc774 \ub418\uba70, \uc2e4\ud328\ud560 \uacbd\uc6b0, onError \uc18d\uc131\uc774 \uc2e4\ud589\ub41c\ub2e4.",(0,t.jsx)(r.br,{}),"\r\nQueryCache\ub294 Query\ub4e4\uc774 ",(0,t.jsx)(r.strong,{children:"\uc804\uc5ed\uc801\uc73c\ub85c \uc2e4\ud589 \uacb0\uacfc\uc5d0 \ub300\ud55c \ud655\uc778 \ubc0f \uad00\ub9ac"}),"\ud558\ub294 React Query\uc758 \uac1d\uccb4\uc774\ub2e4.",(0,t.jsx)(r.br,{})]})}),"\n",(0,t.jsx)(r.h2,{id:"react-query\uc758-suspense\ubaa8\ub4dc",children:"React Query\uc758 Suspense\ubaa8\ub4dc"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"\ub370\uc774\ud130 \ub85c\ub529\uc744 \uc804\uc5ed\uc801\uc73c\ub85c \uac04\ub2e8\ud558\uac8c \ucc98\ub9ac"}),"\n",(0,t.jsx)(r.li,{children:"React\uc5d0\uc11c \ube44\ub3d9\uae30 \ub370\uc774\ud130 \ub85c\ub529 \ud654\uba74\uc744 \ub354 \uc27d\uac8c \ub2e4\ub8e8\ub3c4\ub85d \ud574\uc8fc\ub294 \uae30\ub2a5"}),"\n"]}),"\n",(0,t.jsxs)(r.details,{children:["\n",(0,t.jsx)(r.summary,{children:"\uc120\ud0dd\uc801 Query Suspense"}),"\n",(0,t.jsxs)(r.div,{markdown:"1",children:["\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-jsx",metastring:'title="index.js"',children:'import React from "react";\r\nimport { createRoot } from "react-dom/client";\r\nimport App from "./App";\r\nimport { QueryClient, QueryClientProvider } from "@tanstack/react-query";\r\n\r\nconst queryClient = new QueryClient();\r\n\r\nconst container = document.getElementById("root");\r\nconst root = createRoot(container);\r\nroot.render(\r\n  <QueryClientProvider client={queryClient}>\r\n    <React.Suspense fallback={<div>Loading...</div>}>\r\n      <App />\r\n    </React.Suspense>\r\n  </QueryClientProvider>\r\n);\n'})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-jsx",metastring:'title="\ube44\ub3d9\uae30 \ud568\uc218"',children:'import axios from "axios";\r\n\r\nconst fetchPosts = async () => {\r\n  const response = await axios.get(\r\n    "https://jsonplaceholder.typicode.com/posts"\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport default fetchPosts;\n'})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-jsx",metastring:'title="\uc120\ud0dd\uc801 suspense \ucf54\ub4dc"',children:'import React from "react";\r\nimport { useQuery } from "@tanstack/react-query";\r\nimport fetchPosts from "./Async";\r\n\r\nconst App = () => {\r\n  const { data, isError, error } = useQuery({\r\n    queryKey: ["posts"],\r\n    queryFn: fetchPosts,\r\n    suspense: true,\r\n  });\r\n\r\n  if (isError) {\r\n    return <p>Error: {error.message}</p>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Post List</h1>\r\n      <ul>\r\n        {data.map((post) => (\r\n          <li key={post.id}>{post.title}</li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\n'})}),"\n",(0,t.jsxs)(r.admonition,{type:"note",children:[(0,t.jsxs)(r.p,{children:["\uc704\uc758 index.js \ucf54\ub4dc\uc5d0\uc11c Suspense\ub97c \uc0ac\uc6a9\ud558\uae30 \uc704\ud574 \uc124\uc815\uc744 \ud574\uc57c\ub41c\ub2e4.",(0,t.jsx)(r.br,{}),"\r\nSuspense\ub97c \uc0ac\uc6a9\ud558\uae30 \uc704\ud574\uc11c\ub294 ",(0,t.jsx)(r.strong,{children:"Suspense\ub97c \uc0ac\uc6a9\ud560 Component\ubcf4\ub2e4 \uc0c1\uc704\uc5d0 \uc874\uc7ac"}),"\ud574\uc57c\ud55c\ub2e4.",(0,t.jsx)(r.br,{}),"\r\n",(0,t.jsx)(r.code,{children:"<React.Suspense fallback={<Loading\uc5d0 \ud45c\ud604\ud560 Component/>}"}),"\ub97c \ucd5c\uc0c1\uc704 Component\ub85c \uc124\uc815\uc744 \ud558\uba74 Suspense \uc0ac\uc6a9 \uac00\ub2a5",(0,t.jsx)(r.br,{})]}),(0,t.jsxs)(r.p,{children:["Suspense\ub97c \uc0ac\uc6a9\ud560 Query\uc758 \uc18d\uc131\uc5d0 ",(0,t.jsx)(r.code,{children:"{suspense:true}"}),"\uc744 \ucd94\uac00\ub85c \uc791\uc131\ud558\uba74 \ub41c\ub2e4.",(0,t.jsx)(r.br,{}),"\r\n\uadf8\ub7fc Suspense\ub97c \ub4f1\ub85d\ud55c Query\uac00 \ube44\ub3d9\uae30 \ud1b5\uc2e0 \uc9c4\ud589 \uc0c1\ud0dc(Pending)\uc77c \uacbd\uc6b0,",(0,t.jsx)(r.br,{}),"\r\n",(0,t.jsx)(r.code,{children:"<React.Suspense>"}),"\uc18d\uc131\uc758 ",(0,t.jsx)(r.strong,{children:"fallback\uc18d\uc131\uc5d0 \ud45c\ud604\ud560 Component \ud654\uba74\uc774 \ucd9c\ub825"}),"\ub41c\ub2e4.",(0,t.jsx)(r.br,{})]}),(0,t.jsxs)(r.p,{children:["\uc774\ub97c \ud1b5\ud574 \uacf5\ud1b5\uc73c\ub85c \ub85c\ub529 \ud654\uba74\uc744 \ud45c\ud604\ud560 Query\uc5d0 \uc0ac\uc6a9 \uac00\ub2a5\ud558\ub2e4.",(0,t.jsx)(r.br,{})]})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(r.details,{children:["\n",(0,t.jsx)(r.summary,{children:"\ubaa8\ub4e0 Query Suspense"}),"\n",(0,t.jsxs)(r.div,{markdown:"1",children:["\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-jsx",metastring:'title="index.js"',children:'import React from "react";\r\nimport { createRoot } from "react-dom/client";\r\nimport App from "./App";\r\nimport { QueryClient, QueryClientProvider } from "@tanstack/react-query";\r\n\r\nconst queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n      suspense: true,\r\n    },\r\n  },\r\n});\r\n\r\nconst container = document.getElementById("root");\r\nconst root = createRoot(container);\r\nroot.render(\r\n  <QueryClientProvider client={queryClient}>\r\n    <React.Suspense fallback={<div>Loading...</div>}>\r\n      <App />\r\n    </React.Suspense>\r\n  </QueryClientProvider>\r\n);\n'})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-jsx",metastring:'title="\ube44\ub3d9\uae30 \ud568\uc218"',children:'import axios from "axios";\r\n\r\nconst fetchPosts = async () => {\r\n  const response = await axios.get(\r\n    "https://jsonplaceholder.typicode.com/posts"\r\n  );\r\n  return response.data;\r\n};\r\n\r\nexport default fetchPosts;\n'})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-jsx",metastring:'title="App.js"',children:'import React from "react";\r\nimport { useQuery } from "@tanstack/react-query";\r\nimport fetchPosts from "./Async";\r\n\r\nconst App = () => {\r\n  const { data, isError, error } = useQuery({\r\n    queryKey: ["posts"],\r\n    queryFn: fetchPosts,\r\n  });\r\n\r\n  if (isError) {\r\n    return <p>Error: {error.message}</p>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Post List</h1>\r\n      <ul>\r\n        {data.map((post) => (\r\n          <li key={post.id}>{post.title}</li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\n'})}),"\n",(0,t.jsxs)(r.admonition,{type:"note",children:[(0,t.jsxs)(r.p,{children:["Suspense\ub97c \uc0ac\uc6a9\ud558\ub294 \ubc29\ubc95 \uc911 \ub2e4\ub978 \ubc29\ubc95\uc774\ub2e4.",(0,t.jsx)(r.br,{}),"\r\n\uc704\uc758 \ucf54\ub4dc\uc640 \uac19\uc740 \uacbd\uc6b0 \uac1c\ubcc4\uc801\uc73c\ub85c Query\uc5d0 \ub300\ud574 \uc635\uc158\uc744 \ubd80\uc5ec\ud558\uc9c0 \uc54a\uace0,",(0,t.jsx)(r.br,{}),"\r\nQueryClient\uc758 \uc635\uc158\uc744 \ud1b5\ud574 ",(0,t.jsx)(r.strong,{children:"\uc0ac\uc6a9\ud558\ub294 \ubaa8\ub4e0 Query\uc5d0 \ub300\ud574 Suspense\ub97c \uc635\uc158\uc744 \ubd80\uc5ec"}),"\ud558\ub294 \ubc29\ubc95\uc774\ub2e4.",(0,t.jsx)(r.br,{})]}),(0,t.jsxs)(r.p,{children:["\uc0ac\uc6a9\ubc95\uc740 \ucd5c\uc0c1\uc704 Component\uc5d0 \uc811\uadfc\ud558\uc5ec QueryClient\uc5d0\uac8c \uc635\uc158\uc744 \ubd80\uc5ec\ud558\uba74 \ub41c\ub2e4.",(0,t.jsx)(r.br,{})]}),(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-jsx",children:"const queryClient = new QueryClient({\r\n  defaultOptions: {\r\n    queries: {\r\n      suspense: true,\r\n    },\r\n  },\r\n});\n"})}),(0,t.jsxs)(r.p,{children:["\uc774\ub97c \ud1b5\ud574, \uc0ac\uc6a9\ud560 \ubaa8\ub4e0 Query\ub4e4\uc5d0\uac8c Suspense\ub97c \ubd80\uc5ec\ud55c\ub2e4.",(0,t.jsx)(r.br,{})]}),(0,t.jsx)(r.p,{children:(0,t.jsx)(r.strong,{children:"\ubaa8\ub4e0 Query\uac00 \ub611\uac19\uc740 \ub85c\ub529\ud654\uba74\uc744 \uc81c\uacf5\ud560 \uacbd\uc6b0 \ub9e4\uc6b0 \ud3b8\ub9ac\ud558\ub2e4."})})]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"prefetchquery",children:"PrefetchQuery"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["\ud2b9\uc815 query \ub370\uc774\ud130\ub97c ",(0,t.jsx)(r.strong,{children:"\ubbf8\ub9ac \uac00\uc838\uc640 \uce90\uc2dc\uc5d0 \uc800\uc7a5"}),"\ud558\ub294 \uc5ed\ud560"]}),"\n",(0,t.jsx)(r.li,{children:"\uc0ac\uc6a9\uc790\uac00 \uc2e4\uc81c\ub85c \ud574\ub2f9 \ub370\uc774\ud130\ub97c \uc694\uad6c\ud558\uae30 \uc804\uc5d0 \ub370\uc774\ud130\ub97c \ubbf8\ub9ac \ub85c\ub4dc"}),"\n"]}),"\n",(0,t.jsxs)(r.details,{children:["\n",(0,t.jsx)(r.summary,{children:"prefetchQuery \uad6c\ud604"}),"\n",(0,t.jsxs)(r.div,{markdown:"1",children:["\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-jsx",metastring:'title="index.js"',children:'import React from "react";\r\nimport { createRoot } from "react-dom/client";\r\nimport App from "./App";\r\nimport { QueryClient, QueryClientProvider } from "@tanstack/react-query";\r\nimport { ReactQueryDevtools } from "@tanstack/react-query-devtools";\r\n\r\nconst queryClient = new QueryClient();\r\n\r\nconst container = document.getElementById("root");\r\nconst root = createRoot(container);\r\nroot.render(\r\n  <QueryClientProvider client={queryClient}>\r\n    <App />\r\n    <ReactQueryDevtools initialIsOpen={true} />\r\n  </QueryClientProvider>\r\n);\n'})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-jsx",metastring:'title="\ube44\ub3d9\uae30 \ud568\uc218"',children:'import axios from "axios";\r\n\r\nexport const fetchPostsByPage = async (page) => {\r\n  const { data } = await axios.get(\r\n    `https://jsonplaceholder.typicode.com/posts?_limit=10&_page=${page}`\r\n  );\r\n  return data;\r\n};\n'})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-jsx",metastring:'title="App.js"',children:'import React, { useState, useEffect } from "react";\r\nimport { useQuery, useQueryClient } from "@tanstack/react-query";\r\nimport { fetchPostsByPage } from "./Async";\r\n\r\nfunction App() {\r\n  const [page, setPage] = useState(1);\r\n  const queryClient = useQueryClient();\r\n\r\n  const {\r\n    data: posts,\r\n    isLoading,\r\n    isError,\r\n    error,\r\n  } = useQuery({\r\n    queryKey: ["posts", page],\r\n    queryFn: () => fetchPostsByPage(page),\r\n    keepPreviousData: true, // \uc774\uc804 \ud398\uc774\uc9c0 \ub370\uc774\ud130 \uc720\uc9c0\r\n    staleTime: 5000, // \uce90\uc2dc \ub370\uc774\ud130\uc758 fresh \uc720\uc9c0 \uc2dc\uac04\r\n  });\r\n\r\n  useEffect(() => {\r\n    const nextPage = page + 1;\r\n    queryClient.prefetchQuery({\r\n      queryKey: ["posts", nextPage],\r\n      queryFn: () => fetchPostsByPage(nextPage),\r\n    });\r\n  }, [page, queryClient]);\r\n\r\n  if (isLoading) return <div>\ub85c\ub529\uc911...</div>;\r\n  if (isError) return <div>\uc5d0\ub7ec: {error.message}</div>;\r\n\r\n  return (\r\n    <div>\r\n      <button\r\n        onClick={() => setPage((old) => (old > 0 ? old - 1 : old))}\r\n        disabled={page === 1}\r\n      >\r\n        \uc774\uc804 \ud398\uc774\uc9c0\r\n      </button>\r\n      <button onClick={() => setPage((old) => old + 1)} disabled={page === 10}>\r\n        \ub2e4\uc74c \ud398\uc774\uc9c0\r\n      </button>\r\n      <div>\r\n        {posts &&\r\n          posts.map((post) => (\r\n            <div key={post.id}>\r\n              <h3>{post.title}</h3>\r\n            </div>\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\n'})}),"\n",(0,t.jsxs)(r.admonition,{type:"note",children:[(0,t.jsxs)(r.p,{children:["App.js\uc5d0\ub294 API\ub97c \ud1b5\ud574 10\uac1c\uc529 \ub370\uc774\ud130\ub97c \ud45c\ud604\ud558\ub294 \ucf54\ub4dc\ub2e4.",(0,t.jsx)(r.br,{})]}),(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-jsx",children:'useEffect(() => {\r\n  const nextPage = page + 1;\r\n  queryClient.prefetchQuery({\r\n    queryKey: ["posts", nextPage],\r\n    queryFn: () => fetchPostsByPage(nextPage),\r\n  });\r\n}, [page, queryClient]);\n'})}),(0,t.jsxs)(r.p,{children:["useEffect\ub97c \ud1b5\ud574 page\uc640 queryClient\uc758 \uac12\uc774 \ubc14\ub014\ub54c\ub9c8\ub2e4 ",(0,t.jsx)(r.strong,{children:"prefetchQuery\ub97c \uc2e4\ud589"}),"\uc2dc\ud0a8\ub2e4.",(0,t.jsx)(r.br,{}),"\r\nuseState\uc758 page\uc758 \uc0c1\ud0dc\uac12\uc5d0 1\uc744 \ub354\ud574 \ub2e4\uc74c \ud398\uc774\uc9c0\uc5d0 \ub300\ud574 \ubbf8\ub9ac query \ub370\uc774\ud130\ub97c \uce90\uc2f1\ud558\ub294 \uc791\uc5c5\uc774\ub2e4.",(0,t.jsx)(r.br,{})]}),(0,t.jsx)(r.p,{children:(0,t.jsx)(r.img,{src:"https://github.com/JJamVa/JJamVa/assets/80045006/c4725515-87dc-46ea-8e52-55715525f4ac",alt:"image"})}),(0,t.jsxs)(r.p,{children:["\ucc98\uc74c \ub9c8\uc6b4\ud2b8\uac00 \ub420 \ub54c, prefetchQuery\ub97c \ud1b5\ud574 \uba3c\uc800 ",(0,t.jsx)(r.code,{children:'["posts",2]'}),"\ub97c \uce90\uc2f1 \ud55c\ub2e4.",(0,t.jsx)(r.br,{}),"\r\n\uc774\ud6c4 ",(0,t.jsx)(r.code,{children:'["posts",1]'}),"\uc744 \uce90\uc2f1\ud558\uc5ec, ",(0,t.jsx)(r.code,{children:'["posts",1]'}),"\uc5d0 \ub300\ud55c \ub370\uc774\ud130\ub97c \ub80c\ub354\ub9c1\ud55c\ub2e4.",(0,t.jsx)(r.br,{}),"\r\nreact-query-devtools\uc744 \ud1b5\ud574 ",(0,t.jsx)(r.code,{children:'["posts",1]'}),"\uc640 ",(0,t.jsx)(r.code,{children:'["posts",2]'}),"\uac00 \uce90\uc2f1\ub41c \uac83\uc744 \ud655\uc778\ud560 \uc218 \uc788\ub2e4.",(0,t.jsx)(r.br,{})]}),(0,t.jsx)(r.p,{children:(0,t.jsx)(r.img,{src:"https://github.com/JJamVa/JJamVa/assets/80045006/01045dec-7a11-4ced-9c22-f5d2b0f8b3ed",alt:"image"})}),(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.code,{children:"\ub2e4\uc74c \ud398\uc774\uc9c0"}),"\ubc84\ud2bc\uc744 \ub204\ub97c \uacbd\uc6b0, ",(0,t.jsx)(r.code,{children:'["posts",2]'}),"\uc5d0 \ub300\ud55c query \ub370\uc774\ud130\ub97c \uac00\uc838\uc628\ub2e4.",(0,t.jsx)(r.br,{}),"\r\nprefetchQuery\ub97c \ud1b5\ud574 ",(0,t.jsx)(r.code,{children:'["posts",2]'}),"\uc5d0 \ub300\ud55c \ub370\uc774\ud130\uac00 \uce90\uc2f1\ub418\uc5c8\uae30 \ub54c\ubb38\uc5d0 \ubcc4\ub3c4\uc758 \ub85c\ub529\ud654\uba74 \uc5c6\uc774 \ub370\uc774\ud130\ub97c \ud45c\ud604 \uac00\ub2a5\ud558\ub2e4.",(0,t.jsx)(r.br,{}),"\r\n",(0,t.jsx)(r.code,{children:'["posts",2]'}),"\uc5d0 \ub300\ud55c \ud398\uc774\uc9c0\ub97c \ub80c\ub354\ub9c1\ud558\uae30 \uc804, ",(0,t.jsx)(r.code,{children:'["posts",3]'}),"\uc5d0 \ub300\ud55c query\ub97c prefetch\ub97c \ud55c\ub2e4.",(0,t.jsx)(r.br,{})]}),(0,t.jsxs)(r.p,{children:["prefetchQuery\ub97c \ud1b5\ud574 \uc0ac\uc6a9\uc790\uc758 \uae30\uc900\uc5d0\uc11c \ubcc4\ub3c4\uc758 \ub85c\ub529\ud654\uba74 \uc5c6\uc774 \ub370\uc774\ud130\ub97c \uc989\uc2dc \ud45c\ud604\ud560 \uc218 \uc788\ub2e4.",(0,t.jsx)(r.br,{})]})]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"invalidatequeries",children:"invalidateQueries"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"\uce90\uc2dc\ub41c query\ub97c \ubb34\ud6a8\ud654"}),"\uc2dc\ud0a4\uace0, \ud544\uc694\uc5d0 \ub530\ub77c \uc790\ub3d9\uc73c\ub85c \uc0c8\ub85c\uc6b4 \ub370\uc774\ud130\ub85c \uac31\uc2e0"]}),"\n",(0,t.jsxs)(r.li,{children:["\ub370\uc774\ud130\uc758 \uc77c\uad00\uc131\uc744 \uc720\uc9c0\ud558\uace0, ",(0,t.jsx)(r.strong,{children:"\ucd5c\uc2e0 \uc0c1\ud0dc\ub97c \ubc18\uc601"}),"\ud558\uae30 \uc704\ud574 \uc0ac\uc6a9"]}),"\n"]}),"\n",(0,t.jsxs)(r.details,{children:["\n",(0,t.jsx)(r.summary,{children:"invalidateQueries \uad6c\ud604"}),"\n",(0,t.jsxs)(r.div,{markdown:"1",children:["\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-jsx",metastring:'title="\ube44\ub3d9\uae30 \ud568\uc218"',children:'import axios from "axios";\r\n\r\nexport const fetchComments = async () => {\r\n  const { data } = await axios.get(\r\n    "https://jsonplaceholder.typicode.com/comments?_limit=5"\r\n  );\r\n  return data;\r\n};\r\n\r\nexport const updateComment = async (commentId, newInfo) => {\r\n  const { data } = await axios.put(\r\n    `https://jsonplaceholder.typicode.com/comments/${commentId}`,\r\n    newInfo\r\n  );\r\n  return data;\r\n};\n'})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-jsx",metastring:'title="App.js"',children:'import React from "react";\r\nimport { useQuery, useQueryClient, useMutation } from "@tanstack/react-query";\r\nimport { fetchComments, updateComment } from "./Async";\r\n\r\nfunction App() {\r\n  const queryClient = useQueryClient();\r\n  const {\r\n    data: comments,\r\n    isLoading,\r\n    error,\r\n  } = useQuery({\r\n    queryKey: ["comments"],\r\n    queryFn: fetchComments,\r\n  });\r\n\r\n  const { mutate } = useMutation({\r\n    mutationFn: updateComment,\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: ["comments"] });\r\n    },\r\n  });\r\n\r\n  if (isLoading) return <div>\ub85c\ub529 \uc911...</div>;\r\n  if (error) return <div>\uc5d0\ub7ec \ubc1c\uc0dd: {error.message}</div>;\r\n\r\n  const handleUpdate = (comment) => {\r\n    mutate(comment.id, { ...comment, body: "Updated comment!" });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Comments</h1>\r\n      {comments.map((comment) => (\r\n        <div key={comment.id}>\r\n          <h4>{comment.name}</h4>\r\n          <button onClick={() => handleUpdate(comment)}>\ub313\uae00 \uc5c5\ub370\uc774\ud2b8</button>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\n'})}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.img,{src:"https://github.com/JJamVa/JJamVa/assets/80045006/3fab762c-b550-4352-938f-8a337db4563f",alt:"image"})}),"\n",(0,t.jsx)(r.admonition,{type:"danger",children:(0,t.jsx)(r.p,{children:"\uc2e4\uc81c API\ub294 \ub3d9\uc791\ud558\uc9c0 \uc54a\ub294\ub2e4."})}),"\n",(0,t.jsxs)(r.admonition,{type:"note",children:[(0,t.jsxs)(r.p,{children:["\ud574\ub2f9 API\uc758 \ub370\uc774\ud130 \ud45c\ud604 \ubc0f \uc218\uc815\uc744 \ud558\ub294 \ucf54\ub4dc\uc774\ub2e4.",(0,t.jsx)(r.br,{}),"\r\nuseQuery\ub97c \ud1b5\ud574 comments query\ub97c \uce90\uc2f1\ud55c\ub2e4.",(0,t.jsx)(r.br,{}),"\r\n",(0,t.jsx)(r.code,{children:"\ub313\uae00 \uc5c5\ub370\uc774\ud2b8"})," \ubc84\ud2bc\uc744 \ub204\ub97c \uacbd\uc6b0, comment\ub97c \uc5c5\ub370\uc774\ud2b8\ud558\ub294 mutation\uc744 \uc2e4\ud589\uc2dc\ud0a8\ub2e4.",(0,t.jsx)(r.br,{})]}),(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-js",children:'const { mutate } = useMutation({\r\n  mutationFn: updateComment,\r\n  onSuccess: () => {\r\n    queryClient.invalidateQueries({ queryKey: ["comments"] });\r\n  },\r\n});\n'})}),(0,t.jsxs)(r.p,{children:["mutation\uc774 \uc2e4\ud589\ub418\uc5b4 \uc131\uacf5\ud560 \uacbd\uc6b0, invalidateQueries\uac00 \uc2e4\ud589\ub41c\ub2e4.",(0,t.jsx)(r.br,{}),"\r\ninvalidateQueries\uc5d0 \uc785\ub825\ub41c query \ud0a4\uac12\uc758 ",(0,t.jsx)(r.strong,{children:"\uce90\uc2f1\uc774 \ubb34\ud6a8\ud654"}),"\uac00 \ub41c\ub2e4.",(0,t.jsx)(r.br,{}),"\r\n\uc774\ud6c4, useQuery\uac00 \uc2e4\ud589\ub418\uc5b4 \uc0c8\ub85c\uc6b4 \ub370\uc774\ud130\ub97c \uce90\uc2f1\ud558\uba70, \ub9ac\ub80c\ub354\ub9c1\uc774 \ubc1c\uc0dd\ud55c\ub2e4.",(0,t.jsx)(r.br,{})]})]}),"\n",(0,t.jsxs)(r.admonition,{type:"caution",children:[(0,t.jsx)(r.p,{children:(0,t.jsx)(r.strong,{children:"invalidateQueries \uc0ac\uc6a9 \uc2dc, \uc8fc\uc758 \uc0ac\ud56d"})}),(0,t.jsxs)(r.p,{children:["query key\uac00 ",(0,t.jsx)(r.code,{children:'["comments"]'}),", ",(0,t.jsx)(r.code,{children:'["comments",1]'}),", ",(0,t.jsx)(r.code,{children:'["comments",{ type: 1}]'}),"\uc774 \uc788\ub2e4\uace0 \uac00\uc815.",(0,t.jsx)(r.br,{})]}),(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-jsx",children:'queryClient.invalidateQueries({ queryKey: ["comments"] });\n'})}),(0,t.jsxs)(r.p,{children:["\uc704\uc758 \ucf54\ub4dc\uc640 \uac19\uc774 \uc2e4\ud589\ub420 \uacbd\uc6b0, ",(0,t.jsx)(r.code,{children:'["comments"]'}),"\ub9cc invalidate\uac00 \ub418\ub294 \uac83\uc774 \uc544\ub2c8\ub2e4.",(0,t.jsx)(r.br,{}),"\r\nqueryKey\uc758 \uac12 \uc911 ",(0,t.jsx)(r.code,{children:'["comments"]'}),"\uac00 \ud3ec\ud568\ub41c \ubaa8\ub4e0 query\ub4e4\uc774 \ub2e4 invalidate\uac00 \ub418\uc5b4 \uce90\uc2dc\uac00 \ubb34\ud6a8\ud654\uac00 \ub41c\ub2e4.",(0,t.jsx)(r.br,{})]})]}),"\n",(0,t.jsxs)(r.admonition,{type:"info",children:[(0,t.jsx)(r.p,{children:(0,t.jsx)(r.strong,{children:"invalidateQueries \ucd94\uac00 \uc635\uc158"})}),(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["exact: ",(0,t.jsx)(r.strong,{children:"\uc815\ud655\ud788 \uc77c\uce58\ud558\ub294 query Key"}),"\ub9cc \ubb34\ud6a8\ud654(\uae30\ubcf8\uac12 false)"]}),"\n",(0,t.jsxs)(r.li,{children:["refetchActive: ",(0,t.jsx)(r.strong,{children:"\ud65c\uc131\ud654\ub41c query"}),"\uc5d0 \ub300\ud574 \ub370\uc774\ud130\ub97c \uc790\ub3d9\uc73c\ub85c \ub2e4\uc2dc \uac00\uc838\uc62c\uc9c0 \uc5ec\ubd80\ub97c \uacb0\uc815(\uae30\ubcf8\uac12 true)"]}),"\n",(0,t.jsxs)(r.li,{children:["refetchInactive: ",(0,t.jsx)(r.strong,{children:"\ube44\ud65c\uc131\ub41c query"}),"\uc5d0 \ub300\ud574\uc11c\ub3c4 \ub370\uc774\ud130\ub97c \ub2e4\uc2dc \uac00\uc838\uc62c\uc9c0 \uc5ec\ubd80\ub97c \uacb0\uc815(\uae30\ubcf8\uac12 false)"]}),"\n",(0,t.jsx)(r.li,{children:"predicate: \ud2b9\uc815 \uc870\uac74\uc5d0 \ubd80\ud569\ud558\ub294 query\ub9cc \ubb34\ud6a8\ud654\ud560 \uc218 \uc788\ub294 \ud568\uc218\ub97c \uc81c\uacf5. boolean \uac12\uc744 \ubc18\ud658"}),"\n",(0,t.jsxs)(r.li,{children:["type: query \ub300\uc0c1\uc744 \uc124\uc815\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"all: \ube44/\ud65c\uc131\ud654\ub41c query"}),"\n",(0,t.jsx)(r.li,{children:"active: \ud65c\uc131\ud654\ub41c query"}),"\n",(0,t.jsx)(r.li,{children:"inactive: \ube44\ud65c\uc131\ud654\ub41c query"}),"\n"]}),"\n"]}),"\n"]})]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"useinfinitequery\ubb34\ud55c-\uc2a4\ud06c\ub864",children:"useInfiniteQuery(\ubb34\ud55c \uc2a4\ud06c\ub864)"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"\ubb34\ud55c \uc2a4\ud06c\ub864"})," \ud639\uc740 ",(0,t.jsx)(r.strong,{children:"\ud398\uc774\uc9c0 \ub124\uc774\uc158"}),"\uc744 \uad6c\ud604\ud560 \ub54c \uc0ac\uc6a9"]}),"\n",(0,t.jsx)(r.li,{children:"\uc0ac\uc6a9\uc790\uac00 \uc2e4\uc81c\ub85c \ud544\uc694\ub85c \ud558\ub294 \ub370\uc774\ud130\ub9cc \uc810\uc9c4\uc801\uc73c\ub85c \ubd88\ub7ec\uc640 \uc131\ub2a5 \uac1c\uc120"}),"\n"]}),"\n",(0,t.jsxs)(r.admonition,{type:"caution",children:[(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"\ubb34\ud55c \uc2a4\ud06c\ub864\uc5d0 \uc0ac\uc6a9 \uc2dc, \uace0\ub824 \uc0ac\ud56d"}),(0,t.jsx)(r.br,{}),(0,t.jsx)(r.br,{})]}),(0,t.jsxs)(r.p,{children:["\uc0ac\uc6a9\uc790\uac00 \uc2a4\ud06c\ub864\ud558\ub294 \uc704\uce58\ub97c \uc2e4\uc2dc\uac04\uc73c\ub85c \uac10\uc9c0\ud558\uace0, \ud398\uc774\uc9c0 \ub05d\uc5d0 \ub3c4\ub2ec\ud588\uc744 \ub54c \ucd94\uac00\uc801\uc778 \ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc640\uc57c \ud55c\ub2e4.",(0,t.jsx)(r.br,{}),"\r\n\uc774 \uacfc\uc815\uc744 \ud6a8\uc728\uc801\uc73c\ub85c \uad00\ub9ac\ud558\uae30 \uc704\ud574, \uc8fc\ub85c \ub2e4\uc74c \ub450 \uac00\uc9c0 \ubc29\ubc95\uc744 \uc0ac\uc6a9",(0,t.jsx)(r.br,{})]}),(0,t.jsxs)(r.ol,{children:["\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.strong,{children:"Intersection Observer API"})}),"\n"]}),(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"\ube0c\ub77c\uc6b0\uc800 \ub0b4\uc7a5 API"}),"\n",(0,t.jsx)(r.li,{children:"\ud0c0\uac9f \uc694\uc18c\uac00 \ubdf0\ud3ec\ud2b8(\ud654\uba74\uc5d0 \ubcf4\uc774\ub294 \uc601\uc5ed)\uc5d0 \ub4e4\uc5b4\uc624\ub294\uc9c0 \uc5ec\ubd80\ub97c \ube44\ub3d9\uae30\uc801\uc73c\ub85c \uac10\uc9c0"}),"\n",(0,t.jsx)(r.li,{children:"\ub370\uc774\ud130\ub97c \ucd94\uac00\ub85c \ubd88\ub7ec\uc62c \ubc84\ud2bc\uc774\ub098 \ud398\uc774\uc9c0 \ub05d\uc744 \uac10\uc9c0\ud558\ub294 \ub370 \uc720\uc6a9"}),"\n"]}),(0,t.jsxs)(r.ol,{start:"2",children:["\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.strong,{children:"viewport\ub97c \uc774\uc6a9\ud55c \uc2a4\ud06c\ub864 \uc774\ubca4\ud2b8 \ud578\ub4e4\ub9c1"})}),"\n"]}),(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"\uc0ac\uc6a9\uc790\uc758 \uc2a4\ud06c\ub864 \uc704\uce58\ub97c \uacc4\uc0b0\ud558\uc5ec \ud2b9\uc815 \uc9c0\uc810\uc5d0\uc11c \ucd94\uac00 \ub370\uc774\ud130\ub97c \uc694\uccad"}),"\n"]})]}),"\n",(0,t.jsxs)(r.details,{children:["\n",(0,t.jsx)(r.summary,{children:"IntersectionObserver API\ub97c \uc774\uc6a9\ud55c \ubb34\ud55c\uc2a4\ud06c\ub864 \uad6c\ud604"}),"\n",(0,t.jsxs)(r.div,{markdown:"1",children:["\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-jsx",metastring:'title="\ube44\ub3d9\uae30 \ud568\uc218"',children:'import axios from "axios";\r\n\r\nconst fetchPosts = async ({ pageParam = 1 }) => {\r\n  const res = await axios.get(\r\n    `https://jsonplaceholder.typicode.com/posts?_page=${pageParam}&_limit=10`\r\n  );\r\n  return res.data;\r\n};\r\n\r\nexport default fetchPosts;\n'})}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-jsx",metastring:'title="\ubb34\ud55c\uc2a4\ud06c\ub864 \uad6c\ud604"',children:'import React, { useEffect, useRef } from "react";\r\nimport { useInfiniteQuery } from "@tanstack/react-query";\r\nimport fetchPosts from "./Async";\r\n\r\nconst App = () => {\r\n  const { data, fetchNextPage, hasNextPage, isFetchingNextPage } =\r\n    useInfiniteQuery({\r\n      queryKey: ["infiniteScroll"],\r\n      queryFn: fetchPosts,\r\n      getNextPageParam: (lastPage, pages) => pages.length + 1,\r\n    });\r\n\r\n  const observer = useRef();\r\n\r\n  useEffect(() => {\r\n    if (isFetchingNextPage || !hasNextPage) return;\r\n\r\n    const observerInstance = new IntersectionObserver((entries) => {\r\n      if (entries[0].isIntersecting) {\r\n        fetchNextPage();\r\n      }\r\n    });\r\n\r\n    if (observer.current) {\r\n      observerInstance.observe(observer.current);\r\n    }\r\n\r\n    return () => {\r\n      if (observer.current) {\r\n        observerInstance.unobserve(observer.current);\r\n      }\r\n    };\r\n  }, [isFetchingNextPage, fetchNextPage, hasNextPage]);\r\n\r\n  return (\r\n    <div style={{ height: "30vh", overflow: "auto" }}>\r\n      {data?.pages.map((page, pageIndex) => (\r\n        <React.Fragment key={pageIndex}>\r\n          {page.map((post, postIndex) => (\r\n            <p\r\n              key={post.id}\r\n              ref={page.length === postIndex + 1 ? observer : null}\r\n            >\r\n              {post.title}\r\n            </p>\r\n          ))}\r\n        </React.Fragment>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\n'})}),"\n",(0,t.jsxs)(r.admonition,{type:"note",children:[(0,t.jsxs)(r.p,{children:["\uc704\uc758 \ucf54\ub4dc\ub294 useInfiniteQuery\ub97c \uc774\uc6a9\ud574 \uc2a4\ud06c\ub864\uc774 \ucd5c\ud558\ub2e8\uc5d0 \ub0b4\ub824\uac08 \uacbd\uc6b0, \uc0c8\ub85c\uc6b4 \ub370\uc774\ud130\ub97c \ubcf4\uc5ec\uc8fc\ub294 \ucf54\ub4dc\uc774\ub2e4.",(0,t.jsx)(r.br,{})]}),(0,t.jsx)(r.p,{children:(0,t.jsx)(r.strong,{children:"useInfiniteQuery \uc635\uc158"})}),(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"getNextPageParam"}),":\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"\ubd88\ub7ec\uc628 \ub370\uc774\ud130\uc758 \ub9c8\uc9c0\ub9c9 \ud398\uc774\uc9c0\ub97c \uae30\ubc18\uc73c\ub85c \ub2e4\uc74c \ud398\uc774\uc9c0 \ub370\uc774\ud130\ub97c \uc694\uccad\ud560 \ub54c \ud544\uc694\ud55c \ubcc0\uc218\ub97c \ubc18\ud658"}),"\n",(0,t.jsx)(r.li,{children:"\ub2e4\uc74c \ud398\uc774\uc9c0 \ub370\uc774\ud130 \uc694\uccad \uc2dc queryFn\uc5d0 \uc804\ub2ec"}),"\n"]}),"\n"]}),"\n"]}),(0,t.jsx)(r.p,{children:(0,t.jsx)(r.strong,{children:"useInfiniteQuery \ubc18\ud658\uac12"})}),(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"fetchNextPage"}),": \ub2e4\uc74c \ud398\uc774\uc9c0\uc758 \ub370\uc774\ud130\ub97c \uba85\uc2dc\uc801\uc73c\ub85c \ubd88\ub7ec\uc624\ub294 \ud568\uc218"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"hasNextPage"}),": \ub354 \ubd88\ub7ec\uc62c \ud398\uc774\uc9c0\uac00 \uc788\ub294 \ud655\uc778\ud558\ub294 \uac12(boolean). true\uc77c \uacbd\uc6b0 ",(0,t.jsx)(r.code,{children:"fetchNextPage"}),"\ub97c \ud638\ucd9c"]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"isFetchingNextPage"}),": \ub2e4\uc74c \ud398\uc774\uc9c0\uac00 \ud328\uce6d \uc911\uc778\uc9c0 \ub098\ud0c0\ub0b4\ub294 \uac12(boolean)"]}),"\n"]}),(0,t.jsx)(r.p,{children:(0,t.jsx)(r.a,{href:"https://tanstack.com/query/latest/docs/framework/react/reference/useInfiniteQuery",children:"useInfiniteQuery \uc18d\uc131 \ubc0f \uc635\uc158 \ubb38\uc11c"})}),(0,t.jsx)(r.hr,{}),(0,t.jsxs)(r.p,{children:["IntersectionObserver\ub97c \uc774\uc6a9\ud574\uc11c \ubb34\ud55c \uc2a4\ud06c\ub864\uc744 \uad6c\ud604\ud558\uae30 \uc704\ud574\uc11c\ub294 \uc2a4\ud06c\ub864 \uc704\uce58\ub97c \ud655\uc778 \ud574\uc57c\ud55c\ub2e4.",(0,t.jsx)(r.br,{}),"\r\nuseRef\ub97c \uc774\uc6a9\ud574\uc11c \ud638\ucd9c\ub41c \ub370\uc774\ud130\uc758 \ub9c8\uc9c0\ub9c9 \uc694\uc18c\uc5d0 \ub300\ud574 \ucc38\uc870\ud55c\ub2e4.",(0,t.jsx)(r.br,{})]}),(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-jsx",children:"const observer = useRef();\n"})}),(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.code,{children:"IntersectionObserver"})," \uc778\uc2a4\ud134\uc2a4\ub97c \ud1b5\ud574 \ud398\uc774\uc9c0\uc758 \ub9c8\uc9c0\ub9c9 \uc694\uc18c\uac00 viewport\uc5d0 \ub4e4\uc5b4\uc62c \ub54c \uc2e4\ud589\ub420 \ucf5c\ubc31 \ud568\uc218\ub97c \uc815\uc758\ud55c\ub2e4",(0,t.jsx)(r.br,{}),"\r\n",(0,t.jsx)(r.code,{children:"entries[0].isIntersecting"}),"\ub97c \ud1b5\ud574 viewport\uc640 \uad50\ucc28\ud558\ub294\uc9c0 \ud655\uc778\uc744 \ud55c\ub2e4.",(0,t.jsx)(r.br,{}),"\r\n\uad50\ucc28\uac00 \ud655\uc778\uc774 \ub420 \uacbd\uc6b0, fetchNextPage\ud568\uc218\uac00 \uc2e4\ud589\ub41c\ub2e4.",(0,t.jsx)(r.br,{}),"\r\nfetchNextPage\uac00 \uc2e4\ud589\ub418\uba74 getNextPageParam\ub3c4 \uc2e4\ud589\ub418\uc5b4,",(0,t.jsx)(r.br,{}),"\r\n",(0,t.jsx)(r.code,{children:"lastPage(\uc774\uc804\uc5d0 \ubd88\ub7ec\uc628 \ud398\uc774\uc9c0 \ub370\uc774\ud130)"}),"\uc640 ",(0,t.jsx)(r.code,{children:"page(\ud604\uc7ac\uae4c\uc9c0 \ubd88\ub7ec\uc628 \ubaa8\ub4e0 \ud398\uc774\uc9c0\uc758 \ubc30\uc5f4)"}),"\ub97c \uc778\uc790\ub97c \uc5f0\uc0b0 \ud6c4,",(0,t.jsx)(r.br,{}),"\r\nqueryFn\uc5d0 \uc804\ub2ec\ud574 \ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc624\ub3c4\ub85d \uc694\uccad\ud55c\ub2e4.",(0,t.jsx)(r.br,{})]}),(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-jsx",children:"const observerInstance = new IntersectionObserver((entries) => {\r\n  if (entries[0].isIntersecting) {\r\n    fetchNextPage();\r\n  }\r\n});\n"})}),(0,t.jsxs)(r.p,{children:["ref\ub97c \ucc38\uc870\ud55c \uc694\uc18c\ub97c IntersectionObserver\uc758 ",(0,t.jsx)(r.strong,{children:"\uad00\ucc30 \ub300\uc0c1\uc73c\ub85c \uc124\uc815"}),"\ud55c\ub2e4.",(0,t.jsx)(r.br,{})]}),(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-jsx",children:"if (observer.current) {\r\n  observerInstance.observe(observer.current);\r\n}\n"})}),(0,t.jsxs)(r.p,{children:["useEffect\uac00 unMount\uac00 \ub420 \uacbd\uc6b0, clean-up\ud568\uc218\ub97c \ud1b5\ud574 ",(0,t.jsx)(r.strong,{children:"\uad00\ucc30 \ub300\uc0c1\uc744 \ud574\uc81c"}),"\ud55c\ub2e4.",(0,t.jsx)(r.br,{}),"\r\nComponent\uac00 \uc0ac\ub77c\uc9c4 \ud6c4\uc5d0\ub3c4 ",(0,t.jsx)(r.strong,{children:"\ubd88\ud544\uc694\ud55c \uc791\uc5c5\uc774 \uacc4\uc18d\ub418\ub294 \uac83\uc744 \ubc29\uc9c0"}),"\ud558\uae30 \uc704\ud574 \uc0ac\uc6a9\ub41c\ub2e4.",(0,t.jsx)(r.br,{})]}),(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-jsx",children:"return () => {\r\n  if (observer.current) {\r\n    observerInstance.unobserve(observer.current);\r\n  }\r\n};\n"})})]}),"\n"]}),"\n"]})]})}function u(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},989:(e,r,n)=>{n.d(r,{R:()=>c,x:()=>a});var s=n(758);const t={},i=s.createContext(t);function c(e){const r=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),s.createElement(i.Provider,{value:r},e.children)}}}]);